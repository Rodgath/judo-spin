/**
 * Judo Spin
 * @name        judo-spin
 * @description 360Â° degrees image spinner using JavaScript.
 * @link        https://github.com/Rodgath/judo-spin
 * @author      Rodgath, https://Rodgath.com
 * @version     v1.0.0
 * @created     July 22, 2023
 * @updated     August 04, 2023
 * @copyright   Copyright (C) 2023-2023, Rodgath
 * @license     MIT
 * @licenseMIT  https://github.com/Rodgath/judo-spin/blob/main/LICENSE
 * @demoExample https://rodgath.github.io/judo-spin/demo/
 */
"use strict";function judoSpin(e,t){t||(o=e.dataset.judoSpin)&&(t=JSON.parse(o));var n,o,r=function(e){e=parseInt(e,10);return isNaN(e)?1:Math.abs(e)}((t=Object.assign({},{currImg:1,images:[]},t)).currImage)-1,u=e instanceof HTMLElement||e instanceof Node?e:document.querySelector(e),i=function(){var e;e=(t.hasOwnProperty("images")&&Array.isArray(t.images)&&0<t.images.length&&t.images.forEach(function(e){var t=document.createElement("img");t.src=e.src,t.alt=e.title,u.appendChild(t)}),u.querySelectorAll("img"));return e}().length,s=360/i,a=0<r?r*s:0,l=!1,c=document.createElement("div");(n=c).className="judo-spin-overlay",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.top="0",n.style.left="0",n.style.zIndex="1",u.appendChild(n),n.addEventListener("mouseover",function(){return n.style.cursor="e-resize"}),n.addEventListener("mouseout",function(){return n.style.cursor="auto"}),(o=u).classList.add("judo-spin-container"),o.style.position="relative",o.style.width="100%",o.style.height="auto",o.style.overflow="hidden";for(var d=u.getElementsByTagName("img"),m=0;m<d.length;m++)d[m].style.width="100%";c.addEventListener("mousedown",function(e){return h(e)}),c.addEventListener("touchstart",function(e){return h(e)});var h=function(e){e.preventDefault();var t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?f:v,e=(console.log(e.type),l=!0,p(a));a=e*s,c.addEventListener(t,n)},v=(document.addEventListener("mouseup",function(){l=!1,c.removeEventListener("mousemove",v)}),document.addEventListener("touchend",function(){l=!1,c.removeEventListener("touchmove",f)}),function(e){return y(e)}),f=function(e){return y(e)},y=function(e){l&&("right"===(e=function(e,t){var n;{var o;null!==E&&null!==L&&(S<(o=e-E)?n="right":o<-S&&(n="left"))}return E=e,L=t,n}(("touchmove"===e.type?e.touches[0]:e).clientX,("touchmove"===e.type?e.touches[0]:e).clientY))?r++:"left"===e&&r--,g(a=((a=r*s)%360+360)%360))},p=function(e){e=Math.floor(e/s);return e<0?e=i-1:i<=e&&(e=0),e},g=function(e){for(var t=Math.floor(e/s)+1,n=1;n<=i;n++)u.querySelector("img:nth-child("+n+")").style.display=n===t?"block":"none"},E=(g(a),null),L=null,S=1}var judoSpinElements=document.querySelectorAll("[data-judo-spin]");judoSpinElements.forEach(function(e){return judoSpin(e)});